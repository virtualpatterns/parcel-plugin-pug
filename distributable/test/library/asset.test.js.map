{"version":3,"sources":["../../../source/test/library/asset.test.js"],"names":["test","bundler","Bundler","require","resolve","__dirname","bundle","default","bundledContentFn","unbundledContentFn","Pug","compileFile","data","is"],"mappings":";;AAAA;;AACA;;AACA;;AAEA;;;;;;;;AAEA,kBAAK,gDAAL,EAAuD,MAAOA,IAAP,IAAgB;AAErE,MAAIC,OAAO,GAAG,IAAIC,sBAAJ,CAAYC,OAAO,CAACC,OAAR,CAAgB,oBAAhB,CAAZ,EAAmD;AAC/D,aAAS,KADsD;AAE/D,cAAW,GAAEC,SAAU,SAFwC;AAG/D,eAAW,WAHoD;AAI/D,cAAU,MAJqD;AAK/D,aAAS,KALsD;AAM/D,gBAAY;AANmD,GAAnD,CAAd;AASA,QAAM,oBAAOJ,OAAP,CAAN;AACA,QAAMA,OAAO,CAACK,MAAR,EAAN;AAEA,MAAI;AAAEC,IAAAA,OAAO,EAAEC;AAAX,MAAgC,yBAAaL,OAAO,CAACC,OAAR,CAAgB,oBAAhB,CAAb,kDAApC;;AACA,MAAIK,kBAAkB,GAAGC,aAAIC,WAAJ,CAAgBR,OAAO,CAACC,OAAR,CAAgB,qBAAhB,CAAhB,CAAzB;;AACA,MAAIQ,IAAI,GAAG;AAAE,YAAQ;AAAV,GAAX;AAEAZ,EAAAA,IAAI,CAACa,EAAL,CAAQL,gBAAgB,CAACI,IAAD,CAAxB,EAAgCH,kBAAkB,CAACG,IAAD,CAAlD;AAED,CApBD","sourcesContent":["import Bundler from 'parcel-bundler'\nimport Pug from 'pug'\nimport Test from 'ava'\n\nimport Plugin from '../../index.js'\n\nTest('import(require.resolve(\\'./target/target.js\\')', async (test) => {\n\n  let bundler = new Bundler(require.resolve('./source/source.js'), {\n    'cache': false,\n    'outDir': `${__dirname}/target`,\n    'outFile': 'target.js',\n    'target': 'node',\n    'watch': false,\n    'logLevel': 0\n  })\n\n  await Plugin(bundler)\n  await bundler.bundle()\n\n  let { default: bundledContentFn } = await import(require.resolve('./target/target.js'))\n  let unbundledContentFn = Pug.compileFile(require.resolve('./source/source.pug'))\n  let data = { 'name': 'Bob' }\n\n  test.is(bundledContentFn(data), unbundledContentFn(data))\n\n})\n"],"file":"asset.test.js"}