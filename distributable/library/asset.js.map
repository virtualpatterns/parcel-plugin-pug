{"version":3,"sources":["../../source/library/asset.js"],"names":["Asset","BaseAsset","constructor","parameter","type","generate","source","Pug","compileClient","contents","relativeName","Path","dirname","name","value","module","exports"],"mappings":";;AAAA;;AACA;;AACA;;AACA;;;;AAEA,MAAMA,KAAN,SAAoBC,oBAApB,CAA8B;AAE5BC,EAAAA,WAAW,CAAC,GAAGC,SAAJ,EAAe;AACxB,UAAM,GAAGA,SAAT;AACA,SAAKC,IAAL,GAAY,IAAZ;AACD;;AAED,QAAMC,QAAN,GAAiB;AAEf;AAEA,QAAIC,MAAM,GAAG,IAAb;AAEAA,IAAAA,MAAM,GAAGC,aAAIC,aAAJ,CAAkB,KAAKC,QAAvB,EAAiC;AACxC,kBAAY,KAAKC,YADuB;AAExC,iBAAWC,cAAKC,OAAL,CAAa,KAAKC,IAAlB,CAF6B;AAGxC,cAAQ;AAHgC,KAAjC,CAAT;AAMAP,IAAAA,MAAM,GAAI,qCAAoCA,MAAO,8BAArD;AAEAA,IAAAA,MAAM,GAAG,sBAAOA,MAAP,EAAe;AACtB,wBAAkB,IADI;AAEtB,gBAAU,OAFY;AAGtB,oBAAc,GAHQ;AAItB,qBAAe,IAJO;AAKtB,kBAAY,CALU;AAMtB,uBAAiB;AANK,KAAf,CAAT;AASA,WAAO,CAAC;AACNF,MAAAA,IAAI,EAAE,IADA;AAENU,MAAAA,KAAK,EAAER;AAFD,KAAD,CAAP;AAKD;;AAnC2B;;AAuC9BS,MAAM,CAACC,OAAP,GAAiBhB,KAAjB","sourcesContent":["import { Asset as BaseAsset } from 'parcel-bundler'\nimport { format as Format } from 'prettier'\nimport Path from 'path'\nimport Pug from 'pug'\n\nclass Asset extends BaseAsset {\n\n  constructor(...parameter) {\n    super(...parameter)\n    this.type = 'js'\n  }\n\n  async generate() {\n\n    // let configuration = await this.getConfig()\n\n    let source = null\n    \n    source = Pug.compileClient(this.contents, { \n      'filename': this.relativeName,      \n      'basedir': Path.dirname(this.name),\n      'name': 'templateFn' \n    })\n\n    source = `export default function(locals) { ${source} return templateFn(locals) }`\n\n    source = Format(source, {\n      'bracketSpacing': true,\n      'parser': 'babel',\n      'printWidth': 100,\n      'singleQuote': true,\n      'tabWidth': 2,\n      'trailingComma': 'none'\n    })\n\n    return [{\n      type: 'js',\n      value: source\n    }] \n  \n  }\n\n}\n\nmodule.exports = Asset"],"file":"asset.js"}